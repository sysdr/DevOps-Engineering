# Intentionally vulnerable code for testing purposes
import sqlite3
import pickle

# Vulnerability 1: SQL Injection
def get_user(username):
    conn = sqlite3.connect('users.db')
    cursor = conn.cursor()
    # VULNERABILITY: SQL Injection
    query = f"SELECT * FROM users WHERE username = '{username}'"
    cursor.execute(query)
    return cursor.fetchone()

# Vulnerability 2: Hardcoded Credentials
DATABASE_PASSWORD = "super_secret_password_123"
API_KEY = "sk_live_12345678abcdefgh"

# Vulnerability 3: Insecure Deserialization
def load_user_data(serialized_data):
    # VULNERABILITY: Pickle deserialization of untrusted data
    return pickle.loads(serialized_data)

# Vulnerability 4: Command Injection
import os
def ping_host(hostname):
    # VULNERABILITY: Command injection
    os.system(f"ping -c 1 {hostname}")

# Vulnerability 5: Weak Cryptography
import hashlib
def hash_password(password):
    # VULNERABILITY: Using MD5 for password hashing
    return hashlib.md5(password.encode()).hexdigest()
